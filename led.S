/*
 * 文件名: led.S
 * 作者: 罗凯杰
 * 描述: 这是我们一步步点亮 LED 教程的自己写的第一个裸机程序
 */

_start:
	//第一步: 把 0x11111111 写入到 0xE0200240(GPJ0CON)位置
	ldr r0, =0x11111111     //从后面的 = 可以看出用的是 ldr 伪指令，因为需要编译器来判断这个数
	ldr r1, =0xE0200240     //是合法立即数还是非法立即数，一般写代码都用 ldr 伪指令
	str r0, [r1]            // 寄存器间接寻址。功能是把 r0 中的数写入到 r1 中的数为地址的内存中去

	//第二步: 把 0x0 写入到 0xE0200244(GPJ0DAT)位置
	ldr r0, =0x0
	ldr r1, =0xE0200244
	str r0, [r1]            //把 0 写入到 GPJ0DAT 寄存器中，引脚即输出低电平，LED 点亮

flag:
	b flag                  //这两行写了一个死循环。因为裸机程序是直接在 CPU 上运行的， CPU 会
				//逐行运行裸机程序直到 CPU 断电关机。如果我们的程序所有的代码都
				//执行完了 CPU 就会跑飞（跑飞以后是未定义的，所以千万不能让 CPU 
				//跑飞），不让 CPU 跑飞的办法就是在我们整个程序执行完后添加死循环

